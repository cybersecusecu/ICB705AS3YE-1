# x) Summarize
I read Karvinen (2020) https://terokarvinen.com/2020/command-line-basics-revisited/ "Command Line Basics Revisited" guide on basic command line in Linux. I haven't really used Linux much myself before, so the article came in handy. 
I noticed that I already used some of the basic commands presented in the text while doing the assignment. The text itself is a bit odd to summarize into bullet points, since everyone who will read it already has it and it contains a list of useful commands with examples.

- According to Tero the article is popular; it would be interesting to see how much traffic the page gets and whether it comes from around the world, or only among Haaga-Helia students.  

- I kept wondering about the $ history command, whether it shows the commands that happened during the session or all commands given to the terminal over the entire device history. I personally liked using the up-arrow key instead of $ history, which suggested the most recent commands for re-execution. I should test this in the next lab.  

Another article by Karvinen (2022) https://terokarvinen.com/2022/cracking-passwords-with-hashcat/ "Cracking Passwords with Hashcat" deals with Cracking Passwords with Hashcat. I followed this article closely while doing the exercise myself. As a bullet point I want to raise whether others got the same error during the exercise where VirtualBox gave the message “Device #1: Not enough allocatable device memory for this attack”. This bug apparently stems from the virtual machine's memory, not the device used to open the virtual machine. This prevented me from using hashcat to complete the task.  

In summary the article instructs:
- Hashcat installation
- Downloading a dictionary
- Identifying the hash type
- Cracking the hash
- Finding the password

# b) Installing Linux
Go to https://www.debian.org/distrib/  
Click "Live Xfce"  

<img width="920" height="187" alt="image" src="https://github.com/user-attachments/assets/e8206939-84ef-48b4-953e-de654d5c037f" />  


Go to https://www.virtualbox.org/wiki/Downloads  

<img width="471" height="299" alt="image" src="https://github.com/user-attachments/assets/e0b0b4e0-03f9-4cf8-be39-80d4904ce0e6" />  

Choose your platform  

Open VirtualBox file and go through installation  

<img width="491" height="387" alt="image" src="https://github.com/user-attachments/assets/b25f1974-2deb-4a3e-8a0d-3ccc38467fc1" />  

Once Virtualbox is installed, make a new Virtual machine by clickin "New" button.  


Use these settings and OS version, make sure to unclick "Proceed with Unaattended Installation" so you can change them. Make a new folder and choose ISO Image you just downloaded.  

<img width="776" height="549" alt="image" src="https://github.com/user-attachments/assets/16176bbd-765a-4172-85d4-f07cf1de6851" />  


Specify virtual hardware  

<img width="784" height="562" alt="image" src="https://github.com/user-attachments/assets/bbdf6b01-08ce-4c31-ad36-c8145d4eed3e" />  

Change Base Memory up to 4000MB and number of CPUs 2.  


Allocate enough hardware space for the Virtual machine  

<img width="776" height="565" alt="image" src="https://github.com/user-attachments/assets/a16a913e-f950-4afa-b792-4f8c08acee5b" />  


Settings are good, now Start the Virtual machine by clicking the machine and pressing "start"  


<img width="635" height="565" alt="image" src="https://github.com/user-attachments/assets/b351f465-72ee-4b30-82cc-68fd7dab1d1f" />  

Choose Live system  


It should look like this after live system is up and running  


<img width="1275" height="881" alt="image" src="https://github.com/user-attachments/assets/24871ae2-2791-4c07-963a-24a6c5753873" />  

You can use only Live version or install Debian by clicking "install Debian".  



# c) Cracking the hash
Here is the process how I cracked the hash we were supposed to. Unfortunately I had to make couple of manoeuvres to finally crack it, as you can see down below.
First I installed Hashcat  

$ sudo apt-get update  
$ sudo apt-get -y install hashid hashcat wget


Created a new directory  
$ mkdir hashed  
$ cd hashed

Got a dictionary  
$ wget https://github.com/danielmiessler/SecLists/raw/master/Passwords/Leaked-Databases/rockyou.txt.tar.gz  
$ tar xf rockyou.txt.tar.gz  
$ rm rockyou.txt.tar.gz  

Tested if it works  
$ head rockyou.txt

Identified hash type  
$ hashid -m 6b1628b016dff46e6fa35684be6acc96

Tried to crack the hash  

$ hashcat -m 0 '6b1628b016dff46e6fa35684be6acc96' rockyou.txt -o solved
Gave results
 <img width="1004" height="100" alt="image" src="https://github.com/user-attachments/assets/1873c58a-6f8f-42f5-a4d7-093e28931e5f" />


hashcat -m 0 -D 1 -O – n 1 -u 1 0 '6b1628b016dff46e6fa35684be6acc96' rockyou.txt -o solved
Gave error message ”Manual use of the -n option (or –kernel-accel) is outdated.”
 
<img width="1004" height="166" alt="image" src="https://github.com/user-attachments/assets/7363f271-c4c7-4317-95ff-14c9fafbff92" />

Finally added the following commands one at a time while trying to solve the problem, but always the same error message "not enough allocatable device memory".
Tried to use the -w option instead as instructed, but the same error message.

”Device #1: Not enough allocatable device memory for this attack.

$ hashcat -m 0 -D 1 -O -w 1'6b1628b016dff46e6fa35684be6acc96' rockyou.txt -o solved  

What commands mean:  
hashcat = the program
- -m 0 = directs it to use the correct hash (32 characters).  
- -D 1 = forces Hashcat to use the CPU, not the GPU.  
- -O = reduces memory usage and improves performance  
- -w 1 = uses the lightest workload (reduces memory/CPU load). Recommended in a VM.
  
The bug apparently stems from the virtual machine itself, not from the device on which the virtual machine is run. The possibilities to increase allocated memory were apparently quite limited, it might have been possible to direct Hashcat to use the host machine's memory, but that would have been difficult.  

 Idecided to stop fighting at this point and switch to using John the Ripper.

Installing tools required for John the Ripper
<img width="1004" height="84" alt="image" src="https://github.com/user-attachments/assets/d2a81837-3014-4e96-b21e-81a95659f14f" />

The command succeeded without zlib-gst, fortunately it was not needed for the task.
Entered the following commands  
$ git clone --depth=1 https://github.com/openwall/john.git  
$ cd john/src/	  
$ ./configure  

Results required  
$ make -s clean && make -sj2  
<img width="1004" height="114" alt="image" src="https://github.com/user-attachments/assets/f2254363-2c39-4e21-8a69-f8488be1e057" />
After that i ran  
$ make -s clean && make -sj4  

Testing that everything works  
$ cd ../run/  
$ ls -1  
$ $HOME/john/run/john   
<img width="1004" height="101" alt="image" src="https://github.com/user-attachments/assets/86acc048-15e2-4acf-967e-d88da5e6bfaa" />
Fetched the password file for the Hashcat task, extracted it, and tested its functionality.  

<img width="1004" height="326" alt="image" src="https://github.com/user-attachments/assets/52738a30-82c3-4c46-87c8-c7f271b7b098" />

Created "testihash.txt" -file and tested if it works  
<img width="1004" height="79" alt="image" src="https://github.com/user-attachments/assets/ef332ddf-cf56-4d65-8927-e6626ac55997" />
Ran the command that compares the testhash.txt file against the rockyou.txt wordlist, found one match, and revealed it using the command.  
./john --show --format=raw-md5 myhashes.txt  


<img width="1004" height="172" alt="image" src="https://github.com/user-attachments/assets/c048efe9-7424-43bc-b23c-ac8fe6f25876" />

So in conclusion  
Hash 6b1628b016dff46e6fa35684be6acc96  =  summer  

# References
Karvinen, T. (2025) Cyber Security - 2025 late autumn. https://terokarvinen.com/cyber-security/#homework  
Karvinen, T. (2022) Cracking Passwords with Hashcat https://terokarvinen.com/2022/cracking-passwords-with-hashcat/  
Karvinen, T. (2020) Command Line Basics Revisited https://terokarvinen.com/2020/command-line-basics-revisited/
